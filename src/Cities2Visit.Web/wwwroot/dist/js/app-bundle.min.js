!function(){function t(t){var n=this;n.cities=[],n.$onInit=function(){n.listCities(),n.countVisitedCities()},n.listCities=function(){t.getCities().then(function(t){n.cities=t}).catch(function(t){})},n.addCity=function(e){t.addCity(e).then(function(t){n.cities=[]}).catch(function(t){})},n.countVisitedCities=function(){t.countVisitedCities().then(function(t){n.visitedCount=t}).catch(function(t){})}}angular.module("app").component("citiesComponent",{templateUrl:"/app/components/cities.component.html",controllerAs:"model",controller:["citiesService",t]})}(),function(){angular.module("app").factory("citiesService",["$http","$q",function(t,n){function e(){return t.get(config.baseUri+"cities").then(function(t){return t.data}).catch(function(t){return n.reject("Response status: "+t.status+" ("+t.statusText+")<br /> "+t.data.message)})}function i(e){return t.post(config.baseUri+"cities/"+e).then(function(t){return t.data}).catch(function(t){return n.reject("Response status: "+t.status+" ("+t.statusText+")<br /> "+t.data.message)})}function s(e,i){return t.put(config.baseUri+"cities/"+e).then(function(t){return t.data}).catch(function(t){return n.reject("Response status: "+t.status+" ("+t.statusText+")<br /> "+t.data.message)})}function c(){return t.get(config.baseUri+"cities/visited").then(function(t){return t.data}).catch(function(t){return n.reject("Response status: "+t.status+" ("+t.statusText+")<br /> "+t.data.message)})}return{getCities:e,addCity:i,editCity:s,countVisitedCities:c}}])}();